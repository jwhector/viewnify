{"version":3,"sources":["components/Landing/LoginModal.js","components/NavBar.js","components/Landing/viewnify-logo.png","components/Landing/LandingPage.js","useToken.js","components/Card/Card.js","components/Swipe/Swipe.js","components/Swipe/play_ico.png","components/Discover/Discover.js","components/Preferences/PreferencesPage.js","components/Burger/Burger.js","components/Invite/Invite.js","components/Card/MiniCard.js","components/WatchParty/WatchParty.js","components/Library/Library.js","components/Chatroom/Chatroom.js","components/Home/Home.js","App.js","index.js"],"names":["loginUser","credentials","a","fetch","method","headers","body","JSON","stringify","then","data","json","signupUser","console","log","res","catch","err","error","LoginModal","props","useState","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","confirmText","setConfirmText","handleLogin","e","preventDefault","token","user","clearModal","setToken","handleSignup","length","first_name","genres","streaming_service","closeModal","isLogin","ReactModal","setAppElement","isOpen","modalOpen","className","overlayClassName","onRequestClose","shouldCloseOnEsc","shouldCloseOnOverlayClick","style","overlay","zIndex","type","placeholder","onChange","target","value","onClick","NavBar","setModalOpen","shadowColor","setShadowColor","useEffect","complementary","myColor","Color","negate","id","boxShadow","showLogin","themeToggler","LandingPage","setIsLogin","class","alt","src","logo","useToken","tokenString","localStorage","getItem","userToken","parse","getToken","setItem","Card","elem","useRef","hammertimeTap","current","el","Hammer","imgEl","querySelector","descEl","gradient","overviewEl","on","isLeftClick","event","rect","getBoundingClientRect","center","x","left","width","getCursorPosition","isPageOne","classList","contains","isPageTwo","isPageThree","remove","add","handleTap","off","aOrB","isFront","ref","images","idx","media","backdrop","title","background","bgColor","rating","release_date","overview","isDiscover","fetchChoice","mediaData","Authorization","Swipe","curIdx","aIdx","setAIdx","bIdx","setBIdx","isFront_a","setIsFront_a","draggable","setDraggable","cardContainerRef","allCards","querySelectorAll","hammers","addSwipe","removeSwipe","setCurPage","curPage","saveLike","setCurIdx","saveDislike","tinderContainer","forEach","hammertime","recognizers","Tap","Pan","push","deltaX","y","rotate","deltaY","transform","moveOutWidth","document","clientWidth","Math","abs","velocityX","endX","max","toX","endY","velocityY","toY","setIsFirstInFocus","isFirstInFocus","returnCard","waitForElementTransition","transition","visibility","handleButtonClick","like","genreMap","Discover","setImages","setMedia","setBgColor","setBgColor_b","discoverBg_a","discoverBg_b","fac","useContext","UserContext","FastAverageColor","getColorAsync","color","hex","lighten","saturate","setComplementary","fillMedia","getEntries","results","mediaHolder","imageHolder","result","tmdb_id","image","poster_path","backdrop_path","vote_average","getGenres","genre_ids","trim","str","genre_id","concat","mode","cache","format","curPg","entries","streamerMap","Preferences","Set","setGenres","streaming_services","setStreamer","fillGenres","textContent","has","backgroundColor","genresHolder","delete","fillStreamer","streamer_id","streamerHolder","savePreferences","genresString","toString","streamerString","window","location","href","endsWith","reload","activeClassName","lightTheme","fontColor","root","homer","nav","rightContainer","playPause","bmMenu","darkLight","MuiPaperRoot","darkLightFont","darkLightText","bottomBorder","miniBox","miniCardTitle","darkTheme","discoverBtn","watchParty","navBtnBackground","GlobalStyles","createGlobalStyle","theme","Burger","menuOpen","setMenuOpen","exact","to","removeItem","closeTimeoutMS","Invite","MiniCard","openModal","dataIndex","poster","WatchPartyList","parties","watchparties","getMembers","party","members","map","member","split","shift","partyList","dataIdx","name","limit","getMedia","url","MiniCards","miniCards","medium","runtime","WatchParty","setWatchparties","modalIdx","setModalIdx","inputVal","setInputVal","urlInput","setUrlInput","inputField","urlField","ok","watchpartyData","getAttribute","mediaSet","Library","Chatroom","Home","setTheme","closeMenu","page","StyledApp","styled","div","React","createContext","undefined","App","providers","setProviders","setUser","Provider","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.46b59c64.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport ReactModal from 'react-modal';\r\n\r\n\r\nasync function loginUser(credentials) {\r\n    return fetch('http://localhost:3005/api/users/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n    }).then(data => data.json());\r\n}\r\n\r\nasync function signupUser(credentials) {\r\n    console.log(credentials);\r\n    return fetch('http://localhost:3005/api/users', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n    }).then(res => {\r\n        return res.json()\r\n    })\r\n        .catch(err => {\r\n            console.error(err);\r\n        });\r\n}\r\n\r\n\r\nexport default function LoginModal(props) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [confirmText, setConfirmText] = useState('');\r\n\r\n    const handleLogin = async e => {\r\n        e.preventDefault();\r\n        const { token, user } = await loginUser({\r\n            email,\r\n            password\r\n        });\r\n        setEmail('');\r\n        setPassword('');\r\n        if (token) {\r\n            // console.log(email, password);\r\n            clearModal();\r\n            props.setToken({ 'token': token });\r\n            // props.setGenres(u)\r\n        } else {\r\n            setConfirmText('Email or password incorrect!');\r\n        }\r\n    }\r\n\r\n    const handleSignup = async e => {\r\n        e.preventDefault();\r\n\r\n        console.log(email, password, confirmPassword);\r\n\r\n        if (password.length < 8) {\r\n            setConfirmText('Your password must be at least 8 characters long. Please try again.');\r\n            setPassword('');\r\n            setConfirmPassword('');\r\n        } else {\r\n            if (password === confirmPassword) {\r\n                setEmail('');\r\n                setPassword('');\r\n                setConfirmPassword('');\r\n                const { token, user } = await signupUser({\r\n                    first_name: 'test',\r\n                    // username: 'testtesttesties',\r\n                    password: password,\r\n                    email: email,\r\n                    genres: '12,35,80',\r\n                    streaming_service: 'Netflix'\r\n                }).catch(err => console.error(err));\r\n\r\n                if (!token || !user) {\r\n                    setConfirmText('That email is already taken!');\r\n                    return;\r\n                }\r\n\r\n                console.log(user);\r\n                props.setToken({ 'token': token });\r\n                clearModal();\r\n                // props.closeModal();\r\n            } else {\r\n                setConfirmText('Passwords did not match! Please try again.');\r\n                setPassword('');\r\n                setConfirmPassword('');\r\n            }\r\n        }\r\n    }\r\n\r\n    const clearModal = () => {\r\n        setConfirmText('');\r\n        props.closeModal();\r\n    }\r\n\r\n    const isLogin = props.isLogin;\r\n\r\n    ReactModal.setAppElement('#root');\r\n\r\n    if (isLogin) {\r\n        return (\r\n            <ReactModal isOpen={props.modalOpen}\r\n                className=\"login-modal\"\r\n                overlayClassName=\"login-modal-overlay\"\r\n                onRequestClose={clearModal}\r\n                shouldCloseOnEsc={true}\r\n                shouldCloseOnOverlayClick={true}\r\n                style={{ overlay: { zIndex: 3 } }}>\r\n                <h2 className=\"title-txt\">Log In</h2>\r\n                <h3>{confirmText}</h3>\r\n                <input className=\"modal-in\" type=\"text\" placeholder=\"Email\" onChange={e => setEmail(e.target.value)} value={email} />\r\n                <input className=\"modal-in\" type=\"password\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)} value={password} />\r\n                {/* <p>or</p> */}\r\n                <button className=\"submit-btn\" onClick={handleLogin}>Submit</button>\r\n            </ReactModal>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ReactModal isOpen={props.modalOpen}\r\n            className=\"login-modal\"\r\n            overlayClassName=\"login-modal-overlay\"\r\n            onRequestClose={clearModal}\r\n            shouldCloseOnEsc={true}\r\n            shouldCloseOnOverlayClick={true}\r\n            style={{ overlay: { zIndex: 3 } }}>\r\n            <h2 className=\"title-txt\">Sign Up</h2>\r\n            <h3>{confirmText}</h3>\r\n            <input className=\"modal-in\" type=\"text\" placeholder=\"Email\" onChange={e => setEmail(e.target.value)} value={email} />\r\n            <input className=\"modal-in\" type=\"password\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)} value={password} />\r\n            <input className=\"modal-in\" type=\"password\" placeholder=\"Confirm Password\" onChange={e => setConfirmPassword(e.target.value)} value={confirmPassword} />\r\n            {/* <p>or</p> */}\r\n            <button className=\"submit-btn\" onClick={handleSignup}>Submit</button>\r\n        </ReactModal>\r\n    );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport LoginModal from './Landing/LoginModal';\r\nimport Color from 'color';\r\n//3005\r\n\r\nexport default function NavBar(props) {\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [shadowColor, setShadowColor] = useState('#683fff80')\r\n\r\n    // const shadowColor = props.complementary || '#683fff80';\r\n    useEffect(() => {\r\n        if (props.complementary !== '#683fff80') {\r\n            let myColor = Color(props.complementary);\r\n            myColor = myColor.negate();\r\n            setShadowColor(myColor);\r\n        } else {\r\n            setShadowColor(props.complementary);\r\n        }\r\n        // console.log(shadowColor);\r\n    }, [props.complementary]);\r\n\r\n    const setLogin = (e) => {\r\n        setModalOpen(true);\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalOpen(false);\r\n    }\r\n\r\n    \r\n    return (\r\n        <div id=\"nav\" style={{ boxShadow: `0px 5px 6px ${shadowColor}` }}>\r\n            <h1 className=\"text-logo\"><span className=\"vertical-ctr\">view<span className=\"bold\">nify</span></span></h1>\r\n            <h1 className=\"text-logo shadowed\"><span className=\"vertical-ctr\">view<span className=\"bold\">nify</span></span></h1>\r\n            {props.showLogin ?\r\n                <>\r\n                    <button onClick={setLogin} id=\"login-btn\" className=\"styled-btn title-txt\">Log In</button>\r\n                    <LoginModal setToken={props.setToken} modalOpen={modalOpen} closeModal={closeModal} isLogin={true}  />\r\n                </> : <></>}\r\n                {props.showLogin ? <></> : <button id=\"dark-light\"onClick={() => props.themeToggler()}>☼</button>}\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/viewnify-logo.c1f447fb.png\";","import React, { useState } from 'react';\r\nimport ReactModal from 'react-modal';\r\nimport LoginModal from './LoginModal';\r\nimport './LandingPage.css';\r\nimport logo from './viewnify-logo.png';\r\n\r\nexport default function LandingPage(props) {\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [isLogin, setIsLogin] = useState(false);\r\n\r\n    const setSignup = (e) => {\r\n        setIsLogin(false);\r\n        setModalOpen(true);\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalOpen(false);\r\n        console.log(props);\r\n    }\r\n\r\n    ReactModal.setAppElement('#root');\r\n\r\n    return (\r\n        <div class=\"fade\">\r\n\r\n        <div id=\"landing\">\r\n            {/* <img id=\"home-img\" alt=\"Two people on phones, connected via Viewnify.\" src=\"\" /> */}\r\n            <img id=\"logo-img\" alt=\"Viewnify 'V' logo.\" src={logo} />\r\n            <h2 id=\"slogan\" className=\"title-txt\">Everyone's entertained.<span className=\"tm\">™</span></h2>\r\n            <button id=\"signup-btn\" onClick={setSignup} className=\"styled-btn title-txt\">Join Now</button>\r\n            <LoginModal setToken={props.setToken} modalOpen={modalOpen} closeModal={closeModal} isLogin={isLogin} />\r\n        </div>\r\n        </div>\r\n    );\r\n}","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n    const getToken = () => {\r\n        const tokenString = localStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken?.token\r\n    };\r\n\r\n    const [token, setToken] = useState(getToken());\r\n\r\n    const saveToken = userToken => {\r\n        if (!userToken) return setToken(null);\r\n        localStorage.setItem('token', JSON.stringify(userToken));\r\n        setToken(userToken.token);\r\n    };\r\n\r\n    // console.log(token);\r\n\r\n    return {\r\n        setToken: saveToken,\r\n        token\r\n    }\r\n}","import React, { useEffect, useRef } from \"react\";\r\nimport Hammer from \"hammerjs\";\r\n// import Logo from '../Landing/viewnify-logo.png';\r\n\r\n/* PROPS\r\n    idx\r\n    complementary\r\n    images\r\n    media { backdrop, title, (((release data))), (((rating))), overview }\r\n    bgColor\r\n    aOrB\r\n    isFront\r\n*/\r\nexport default function Card(props) {\r\n  const elem = useRef(null);\r\n\r\n  useEffect(() => {\r\n    let hammertimeTap;\r\n    if (elem.current !== null) {\r\n      hammertimeTap = handleTap();\r\n    }\r\n    return function clearHammer() {\r\n      if (hammertimeTap) hammertimeTap.off(\"tap\");\r\n    };\r\n  });\r\n\r\n  function handleTap() {\r\n    const el = elem.current;\r\n    // console.log(el);\r\n    var hammertimeTap = new Hammer(el);\r\n\r\n    const imgEl = el.querySelector(\".content-img\");\r\n    const descEl = el.querySelector(\".content-description\");\r\n    const gradient = el.querySelector(\".content-gradient-overlay\");\r\n    const overviewEl = el.querySelector(\".content-overview-p3\");\r\n    // const headImgEl = el.querySelector(\".content-title\")\r\n\r\n    hammertimeTap.on(\"tap\", function (e) {\r\n      const isLeftClick = getCursorPosition(el, e);\r\n      const isPageOne = !imgEl.classList.contains(\"hidden\");\r\n      const isPageTwo = !descEl.classList.contains(\"hidden\");\r\n      const isPageThree = !overviewEl.classList.contains(\"hidden\");\r\n    //   const isPageTwoImg = descEl.classList.contains(\"hidden\"); \r\n       if (e.target.classList.contains('content-title')) {\r\n           return;\r\n       }\r\n\r\n      if (isPageTwo) {\r\n        if (!isLeftClick) {\r\n          overviewEl.classList.remove(\"hidden\");\r\n          descEl.classList.add(\"hidden\");\r\n        } else {\r\n          imgEl.classList.remove(\"hidden\");\r\n          descEl.classList.add(\"hidden\");\r\n          gradient.classList.remove(\"hidden\");\r\n        }\r\n\r\n      } else if (isPageOne && !isLeftClick) {\r\n        imgEl.classList.add(\"hidden\");\r\n        descEl.classList.remove(\"hidden\");\r\n        gradient.classList.add(\"hidden\");\r\n      } else if (isPageThree && isLeftClick) {\r\n        descEl.classList.remove(\"hidden\");\r\n        overviewEl.classList.add(\"hidden\");\r\n      }\r\n    });\r\n\r\n    return hammertimeTap;\r\n  }\r\n\r\n  function getCursorPosition(el, event) {\r\n    const rect = el.getBoundingClientRect();\r\n    const x = event.center.x - rect.left;\r\n    if (x < rect.width / 2) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`media-main ${props.aOrB ? props.aOrB : \"\"} ${\r\n        props.isFront ? \"front\" : \"back\"\r\n      }`}\r\n      style={{ boxShadow: `4px 4px 8px ${props.complementary}` }}\r\n      ref={elem}\r\n    >\r\n      <div className=\"card-content\">\r\n        <div className=\"content-img\">\r\n          <div className=\"content-gradient-overlay\" />\r\n          <img className=\"cur-content-img\" src={props.images[props.idx]} />\r\n        </div>\r\n        <div className=\"content-description hidden\">\r\n          <div className=\"background-container\">\r\n            <img\r\n              className=\"content-background\"\r\n              src={props.media[props.idx]?.backdrop}\r\n            />\r\n            <div className=\"content-title\">\r\n              <h2 className=\"info-title\">{props.media[props.idx]?.title}</h2>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"media-a-info\"\r\n            style={{\r\n              background: `linear-gradient(180deg, ${props.bgColor} 0%, transparent 3%)`,\r\n            }}\r\n          >\r\n            <div className=\"release-rating card-info\">\r\n              {/* <img src={Logo} className=\"viewnify-rating\" /> */}\r\n              <p className=\"genre-card-info\">\r\n                 {props.media[props.idx]?.genres}\r\n              </p>\r\n              <p className=\"star-card-info\">\r\n                 ⭐️\r\n              </p>\r\n              <p className=\"rating-card-info\">\r\n                 {props.media[props.idx]?.rating}\r\n              </p>\r\n              <p className=\"release-date-card-info\">\r\n                 {props.media[props.idx]?.release_date}\r\n              </p>\r\n            </div>\r\n            {/* <p className=\"card-info\">{props.media[props.idx]?.overview}</p> */}\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"content-description content-overview-p3 hidden\"\r\n          style={{\r\n            background: `linear-gradient(180deg, ${props.bgColor} 0%, transparent 3%)`,\r\n          }}\r\n        >\r\n        <p class=\"card-info\"></p>\r\n          <p className=\"card-info\">{props.media[props.idx]?.overview}</p>\r\n        </div>\r\n      </div>\r\n      {props.isDiscover ? <div className=\"bottom-border\" /> : <></>}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport playIco from \"./play_ico.png\";\r\nimport pauseIco from \"./pause_ico.png\";\r\nimport Hammer from \"hammerjs\";\r\nimport waitForElementTransition from \"wait-for-element-transition\";\r\nimport Card from '../Card/Card';\r\nimport { AutoInit } from \"materialize-css\";\r\n\r\nasync function fetchChoice(type, mediaData, token) {\r\n  fetch(`http://localhost:3005/api/${type}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer: ${token}`,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(mediaData),\r\n  })\r\n    .then((res) => {\r\n      console.log(res);\r\n      return res.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n}\r\n\r\nexport default function Swipe(props) {\r\n  const [aIdx, setAIdx] = useState(props.curIdx);\r\n  const [bIdx, setBIdx] = useState(props.curIdx + 1);\r\n  const [isFront_a, setIsFront_a] = useState(true);\r\n  const [draggable, setDraggable] = useState(true);\r\n  const cardContainerRef = useRef(null);\r\n  const playRef = useRef(null);\r\n  const pauseRef = useRef(null);\r\n  // const cardInfoRef = useRef(null);\r\n\r\n    \r\n  useEffect(() => {\r\n    if (cardContainerRef.current) {\r\n      const allCards = cardContainerRef.current.querySelectorAll(\".media-main\");\r\n      const hammers = addSwipe(cardContainerRef.current, allCards);\r\n      return function cleanSwipe() {\r\n        removeSwipe(hammers);\r\n      };\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    console.log(props.media.length);\r\n    if (props.curIdx > props.media.length - 2 && props.media.length > 0) {\r\n        props.setCurPage(props.curPage + 1);\r\n    }\r\n  }, [props.curIdx]);\r\n\r\n  const saveLike = () => {\r\n    fetchChoice(\"likes\", props.media[props.curIdx], props.token).then(\r\n      (data) => {\r\n        props.setCurIdx(props.curIdx + 1);\r\n      }\r\n    );\r\n  };\r\n\r\n  const saveDislike = () => {\r\n    fetchChoice(\"dislikes\", props.media[props.curIdx], props.token).then(\r\n      (data) => {\r\n        props.setCurIdx(props.curIdx + 1);\r\n      }\r\n    );\r\n  };\r\n\r\n\r\n  const addSwipe = (tinderContainer, allCards) => {\r\n    const hammers = [];\r\n\r\n    allCards.forEach(function (el) {\r\n      var hammertime = new Hammer(el, {\r\n        recognizers: [\r\n          [Hammer.Tap],\r\n          [Hammer.Pan]\r\n        ]\r\n      });\r\n      hammers.push(hammertime);\r\n\r\n      const imgEl = el.querySelector('.content-img');\r\n      const descEl = el.querySelector('.content-description');\r\n      const overviewEl = el.querySelector(\".content-overview-p3\");\r\n\r\n      hammertime.on(\"pan\", function (event) {\r\n        if (event.deltaX === 0) return;\r\n        if (event.center.x === 0 && event.center.y === 0) return;\r\n        if (!draggable) return;\r\n\r\n        el.classList.add(\"moving\");\r\n\r\n        var xMulti = event.deltaX * 0.03;\r\n        var yMulti = (event.deltaY + 100) / 80;\r\n        var rotate = xMulti * yMulti;\r\n\r\n        el.style.transform =\r\n          \"translate(\" +\r\n          event.deltaX +\r\n          \"px, \" +\r\n          event.deltaY +\r\n          \"px) rotate(\" +\r\n          rotate +\r\n          \"deg)\";\r\n      });\r\n\r\n      hammertime.on(\"panend\", function (event) {\r\n        el.classList.remove(\"moving\");\r\n\r\n        var moveOutWidth = document.body.clientWidth;\r\n        var keep =\r\n          Math.abs(event.deltaX) < 80 || Math.abs(event.velocityX) < 0.5;\r\n\r\n        if (keep) {\r\n          el.style.transform = \"\";\r\n        } else {\r\n          var endX = Math.max(\r\n            Math.abs(event.velocityX) * moveOutWidth,\r\n            moveOutWidth\r\n          );\r\n          var toX = event.deltaX > 0 ? endX : -endX;\r\n          var endY = Math.abs(event.velocityY) * moveOutWidth;\r\n          var toY = event.deltaY > 0 ? endY : -endY;\r\n          var xMulti = event.deltaX * 0.03;\r\n          var yMulti = event.deltaY / 80;\r\n          var rotate = xMulti * yMulti;\r\n\r\n          if (event.deltaX > 0) {\r\n            saveLike();\r\n          } else {\r\n            saveDislike();\r\n          }\r\n\r\n          setDraggable(false);\r\n          el.style.transform =\"translate(\" +toX +\"px, \" +(toY + event.deltaY) +\"px) rotate(\" +rotate +\"deg)\";\r\n          setIsFront_a(!isFront_a);\r\n          imgEl.classList.remove('hidden');\r\n          descEl.classList.add('hidden');\r\n          overviewEl.classList.add('hidden');\r\n      \r\n          props.setIsFirstInFocus(!props.isFirstInFocus);\r\n          returnCard(el);\r\n        }\r\n      });\r\n    });\r\n    return hammers;\r\n  };\r\n\r\n  const returnCard = (el) => {\r\n    waitForElementTransition(el).then(() => {\r\n        if (el.classList.contains(\"media-A\")) {\r\n          setAIdx(props.curIdx + 2);\r\n        } else {\r\n          setBIdx(props.curIdx + 2);\r\n        }\r\n        el.style.transition = \"none\";\r\n        el.style.visibility = \"hidden\";\r\n        el.style.transform = \"\";\r\n\r\n        waitForElementTransition(el).then(() => {\r\n          el.style.visibility = \"visible\";\r\n          el.style.transition = \"\";\r\n        });\r\n        setDraggable(true);\r\n    });\r\n  }\r\n\r\n  const removeSwipe = (hammers) => {\r\n    hammers.forEach((hammertime) => {\r\n      hammertime.off(\"panstart pan panend\");\r\n    });\r\n  };\r\n\r\n  function handleButtonClick(event) {\r\n      if (!draggable) return;\r\n      const like = event.target.classList.contains('play-bg');\r\n      var el = cardContainerRef.current.querySelector('.media-main.front');\r\n      var moveOutWidth = document.body.clientWidth * 1.5;\r\n\r\n      const imgEl = el.querySelector('.content-img');\r\n      const descEl = el.querySelector('.content-description');\r\n      const overviewEl = el.querySelector(\".content-overview-p3\");\r\n  \r\n      if (like) {\r\n        el.style.transform = 'translate(' + moveOutWidth + 'px, -100px) rotate(-30deg)';\r\n        saveLike();\r\n      } else {\r\n        el.style.transform = 'translate(-' + moveOutWidth + 'px, -100px) rotate(30deg)';\r\n        saveDislike();\r\n      }\r\n\r\n      setDraggable(false);\r\n      setIsFront_a(!isFront_a);\r\n      imgEl.classList.remove('hidden');\r\n      descEl.classList.add('hidden');\r\n      overviewEl.classList.add('hidden');\r\n  \r\n      props.setIsFirstInFocus(!props.isFirstInFocus);\r\n      returnCard(el);\r\n  \r\n      event.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <div className=\"body-container\" ref={cardContainerRef}>\r\n      <div className=\"card\">\r\n        <Card idx={bIdx} complementary={props.complementary} images={props.images} media={props.media} bgColor={props.bgColor} aOrB={'media-B'} isFront={!isFront_a} isDiscover={true} />\r\n        <Card idx={aIdx} complementary={props.complementary} images={props.images} media={props.media} bgColor={props.bgColor} aOrB={'media-A'} isFront={isFront_a} isDiscover={true} />\r\n        <div className='btn-container'>\r\n          <div className='pause-btn' onClick={handleButtonClick}>\r\n            <div className='bar-container'>\r\n              <div className='pause-bars'></div>\r\n              <div className='pause-bars'></div>\r\n            </div>\r\n          </div>\r\n          <div className='play-btn' onClick={handleButtonClick}>\r\n            <img className='play-img' src={playIco} />\r\n            <div className='btn-background play-bg'></div>\r\n          </div>\r\n        </div>\r\n    \r\n        <div className=\"watch-container\">{/* <h4>ryan</h4> */}</div>\r\n      </div>\r\n      {/* <div\r\n          id=\"play-pause\"\r\n          style={{ boxShadow: `4px 4px 8px ${props.complementary}` }}\r\n        >\r\n          <div id=\"pause-btn\" onClick={handleButtonClick}>\r\n            <img className=\"discover-btn pause-ico\" src={pauseIco} />\r\n          </div>\r\n          <div id=\"play-btn\" onClick={handleButtonClick}>\r\n            <img className=\"discover-btn play-ico\" src={playIco} />\r\n          </div>\r\n        </div> */}\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport \"./discover.css\";\r\n\r\nimport FastAverageColor from \"fast-average-color\";\r\nimport Color from \"color\";\r\n// import swipe from \"../Swipe/swipefn\";\r\nimport Swipe from '../Swipe/Swipe';\r\nimport { UserContext } from '../../App';\r\n\r\nconst genreMap = {\r\n  \"28\": \"Action\",\r\n  \"12\": \"Adventure\",\r\n  \"16\": \"Animation\",\r\n  \"35\": \"Comedy\",\r\n  \"80\": \"Crime\",\r\n  \"18\": \"Drama\",\r\n  \"10751\": \"Family\",\r\n  \"14\": \"Fantasy\",\r\n  \"36\": \"History\",\r\n  \"27\": \"Horror\",\r\n  \"10402\": \"Music\",\r\n  \"9648\": \"Mystery\",\r\n  \"10749\": \"Romance\",\r\n  \"878\": \"Science Fiction\",\r\n  \"10770\": \"TV Movie\",\r\n  \"53\": \"Thriller\",\r\n  \"10752\": \"War\",\r\n  \"37\": \"Western\",\r\n}\r\n\r\nexport default function Discover(props) {\r\n  const [images, setImages] = useState([]);\r\n  const [curIdx, setCurIdx] = useState(0);\r\n  const [entries, setEntries] = useState([]);\r\n  const [media, setMedia] = useState([]);\r\n  const [bgColor, setBgColor] = useState('');\r\n  const [curPage, setCurPage] = useState(1);\r\n  const [bgColor_b, setBgColor_b] = useState('');\r\n  const [isFirstInFocus, setIsFirstInFocus] = useState(true);\r\n  const discoverBg_a = useRef(null);\r\n  const discoverBg_b = useRef(null);\r\n  const user = useContext(UserContext);\r\n\r\n  const seenMedia = [];\r\n  const fac = new FastAverageColor();\r\n\r\n  useEffect(() => {\r\n    if (images[curIdx]) {\r\n      fac\r\n        .getColorAsync(images[curIdx])\r\n        .then((color) => {\r\n          setBgColor(color.hex);\r\n          let myColor = Color(color.hex);\r\n          myColor = myColor.lighten(0.5);\r\n          myColor = myColor.saturate(1);\r\n          myColor = myColor.negate();\r\n          props.setComplementary(myColor.hex());\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n        if (images[curIdx + 1]) {\r\n            fac.getColorAsync(images[curIdx + 1])\r\n            .then((color) => {\r\n                setBgColor_b(color.hex);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n      fillMedia();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fillMedia();\r\n  }, [curPage]);\r\n\r\n  const fillMedia = () => {\r\n    getEntries().then((results) => {\r\n        if (!results.length) {\r\n          setCurPage(curPage + 1);\r\n          return;\r\n        }\r\n        const mediaHolder = [...media];\r\n        const imageHolder = [...images];\r\n        results.forEach((result) => {\r\n          mediaHolder.push({\r\n            tmdb_id: result.id,\r\n            image: `https://image.tmdb.org/t/p/original${result.poster_path}`,\r\n            backdrop: `https://image.tmdb.org/t/p/original${result.backdrop_path}`,\r\n            title: result.title,\r\n            release_date: result.release_date,\r\n            overview: result.overview,\r\n            rating: result.vote_average,\r\n            genres: getGenres(result.genre_ids).trim()\r\n          });\r\n          imageHolder.push(\r\n            `https://image.tmdb.org/t/p/original${result.poster_path}`\r\n          );\r\n        });\r\n        setImages(imageHolder);\r\n        setMedia(mediaHolder);\r\n      });\r\n  }\r\n\r\n  const getGenres = (genre_ids) => {\r\n    let str = '';\r\n    genre_ids.forEach(genre_id => str = str.concat(`, ${genreMap[genre_id]}`));\r\n    return str;\r\n  }\r\n\r\n  const getEntries = async () => {\r\n    const entries = await fetch(\r\n      'http://localhost:3005/tmdbSearch', {\r\n        method: 'POST', \r\n        mode: 'cors', \r\n        cache: 'no-cache',\r\n        credentials: 'same-origin',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer: ${props.token}`\r\n        },\r\n        body: JSON.stringify({ format: 'movie', curPg: {curPage}}) // body data type must match \"Content-Type\" header\r\n      }\r\n    );\r\n    return entries.json();\r\n  };\r\n\r\n  return (\r\n    <div id=\"discover\">\r\n      <div className=\"int-container\">\r\n        <div className={`discover-bg ${isFirstInFocus ? '' : ''}`} ref={discoverBg_a} style={{\r\n          background: `radial-gradient(circle, ${bgColor} 33%, #000000 100%)`\r\n        }}/>\r\n        <Swipe media={media} images={images} curIdx={curIdx} setCurIdx={setCurIdx} bgColor={bgColor} complementary={props.complementary} token={props.token} curPage={curPage} setCurPage={setCurPage} discoverBg_a={discoverBg_a} discoverBg_b={discoverBg_b} isFirstInFocus={isFirstInFocus} setIsFirstInFocus={setIsFirstInFocus} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react'\r\nimport './Preferences.css';\r\nimport logo from '../Landing/viewnify-logo.png';\r\n\r\nconst genreMap = {\r\n  \"Action\": 28,\r\n  \"Adventure\": 12,\r\n  \"Animation\": 16,\r\n  \"Comedy\": 35,\r\n  \"Crime\": 80,\r\n  \"Drama\": 18,\r\n  \"Family\": 10751,\r\n  \"Fantasy\": 14,\r\n  \"History\": 36,\r\n  \"Horror\": 27,\r\n  \"Music\": 10402,\r\n  \"Mystery\": 9648,\r\n  \"Romance\": 10749,\r\n  \"Science Fiction\": 878,\r\n  \"TV Movie\": 10770,\r\n  \"Thriller\": 53,\r\n  \"War\": 10752,\r\n  \"Western\": 37,\r\n  }\r\n\r\nconst streamerMap = {\r\n  \"Netflix\": 8,\r\n  \"Amazon Prime\": 119,\r\n  \"Disney Plus\": 337,\r\n  \"HBO Max\": 384,\r\n  \"Hulu\": 15,\r\n  \"Apple TV Plus\": 350,\r\n  \"Paramount Plus\": 531\r\n}\r\n\r\nexport default function Preferences(props) {\r\n  const [genres, setGenres] = useState(new Set());\r\n  const [streaming_services, setStreamer] = useState(new Set());\r\n\r\n  const fillGenres = (e) => {\r\n    // e.preventDefault()\r\n    // console.log(e.target.textContent);\r\n    const genre_id = genreMap[e.target.textContent];\r\n    if (genres.has(genre_id)) {\r\n      // console.log('ALREADY HAS')\r\n      e.target.style.backgroundColor = 'white';\r\n      e.target.style.color = 'rgba(226, 43, 255, 1)';\r\n      const genresHolder = new Set([...genres]);\r\n      genresHolder.delete(genre_id);\r\n      setGenres(genresHolder);\r\n    } else {\r\n      e.target.style.backgroundColor = 'rgba(226, 43, 255, 1)';\r\n      e.target.style.color = 'white';\r\n      const genresHolder = new Set([...genres]);\r\n      genresHolder.add(genre_id);\r\n      setGenres(genresHolder)\r\n    }\r\n  }\r\n\r\n  const fillStreamer = (e) => {\r\n    const streamer_id = streamerMap[e.target.textContent];\r\n    if (streaming_services.has(streamer_id)) {\r\n      // console.log('ALREADY HAS')\r\n      e.target.style.backgroundColor = 'white';\r\n      e.target.style.color = 'rgba(226, 43, 255, 1)';\r\n      const streamerHolder = new Set([...streaming_services]);\r\n      streamerHolder.delete(streamer_id);\r\n      setStreamer(streamerHolder);\r\n    } else {\r\n      e.target.style.backgroundColor = 'rgba(226, 43, 255, 1)';\r\n      e.target.style.color = 'white';\r\n      const streamerHolder = new Set([...streaming_services]);\r\n      streamerHolder.add(streamer_id);\r\n      setStreamer(streamerHolder);\r\n    }\r\n    // preventDefault()\r\n    // const streamerHolder = [...streaming_service]\r\n    // streamerHolder.push(e.target.textContent)\r\n    // setStreamer(streamerHolder)\r\n  }\r\n\r\n  const savePreferences = async () => {\r\n    const genresString = [...genres].toString()\r\n    const streamerString = [...streaming_services].toString()\r\n    const entries = await fetch(\r\n      'http://localhost:3005/api/users', {\r\n      method: 'PUT',\r\n      mode: 'cors',\r\n      cache: 'no-cache',\r\n      credentials: 'same-origin',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer: ${props.token}`\r\n      },\r\n      body: JSON.stringify({ genres: genresString, streaming_service: streamerString }) // body data type must match \"Content-Type\" header\r\n    }\r\n    );\r\n    props.closeModal();\r\n    if (window.location.href.endsWith('discover')) window.location.reload();\r\n    return entries.json();\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"preferences-container\">\r\n      \r\n      <h3>Genres</h3>\r\n      \r\n      <div className=\"genres\">\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Action</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Adventure</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Animation</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Comedy</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Crime</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Drama</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Family</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Fantasy</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">History</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Horror</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Music</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Mystery</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Romance</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Science Fiction</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">TV Movie</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Thriller</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">War</button>\r\n        <button activeClassName=\"main-links\" onClick={fillGenres} className=\"styled-btn title-txt preferences-btn\">Western</button>\r\n      </div>\r\n\r\n      <h3>Platforms</h3>\r\n\r\n      <div className=\"streaming_services\">\r\n        <button activeClassName=\"main-links\" onClick={fillStreamer} className=\"styled-btn title-txt preferences-btn\">Netflix</button>\r\n        <button activeClassName=\"main-links\" onClick={fillStreamer} className=\"styled-btn title-txt preferences-btn\">Amazon Prime</button>\r\n        <button activeClassName=\"main-links\" onClick={fillStreamer} className=\"styled-btn title-txt preferences-btn\">Disney Plus</button>\r\n        <button activeClassName=\"main-links\" onClick={fillStreamer} className=\"styled-btn title-txt preferences-btn\">HBO Max</button>\r\n        <button activeClassName=\"main-links\" onClick={fillStreamer} className=\"styled-btn title-txt preferences-btn\">Hulu</button>\r\n        <button activeClassName=\"main-links\" onClick={fillStreamer} className=\"styled-btn title-txt preferences-btn\">Apple TV Plus</button>\r\n        <button activeClassName=\"main-links\" onClick={fillStreamer} className=\"styled-btn title-txt preferences-btn\">Paramount Plus</button>\r\n      </div>\r\n\r\n      <div className='save'>\r\n      <button id='save-btn' activeClassName=\"main-links\" onClick={savePreferences} className=\"styled-btn title-txt\">Save</button>\r\n      </div>\r\n      <img id=\"bg-img\" alt=\"Viewnify 'V' logo.\" src={logo} />\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { stack as Menu } from 'react-burger-menu';\r\nimport { render } from '@testing-library/react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport styled from \"styled-components\";\r\nimport useToken from \"../../useToken\";\r\nimport Preferences from '../Preferences/PreferencesPage'\r\nimport ReactModal from 'react-modal';\r\n\r\nexport const lightTheme = {\r\n  body: '#ededed',\r\n  fontColor: 'black',\r\n  background: '#ededed',\r\n  root: '#ededed',\r\n  homer: '#ededed',\r\n  nav: '#FFFFF',\r\n  rightContainer: '#ededed',\r\n  playPause: '#ededed',\r\n  bmMenu: '#FFFFF',\r\n  darkLight: '#ededed',\r\n  MuiPaperRoot: \"#ededed\",\r\n  darkLightFont: '#ad33ff',\r\n  darkLightText: '☽',\r\n  bottomBorder: 'linear-gradient (0deg, #ededed 0%, transparent 20%)',\r\n  miniBox: '#000000',\r\n  miniCardTitle: \"#872ed0\"\r\n\r\n}\r\n// #EDEDED for text\r\nexport const darkTheme = {\r\n  body: '#0E0E0E',\r\n  fontColor: \"white\",\r\n  background: \"#0E0E0E\",\r\n  root: '#0E0E0E',\r\n  homer: '#0E0E0E',\r\n  nav: '#0E0E0E',\r\n  rightContainer: '#0E0E0E',\r\n  playPause: '#0E0E0E',\r\n  bmMenu: '#0E0E0E',\r\n  darkLight: '#0E0E0E',\r\n  discoverBtn: \"#ededed\",\r\n  watchParty: \"#0E0E0E\",\r\n  boxShadow: \"white\",\r\n  MuiPaperRoot: \"#0E0E0E\",\r\n  darkLightFont: '#d32dff',\r\n  darkLightText: '☼',\r\n  shadowColor: \"1px 1.2px 1.2px #7f7f7f\",\r\n  bottomBorder: 'black',\r\n  navBtnBackground: \"#212121\",\r\n  miniBox: '#ededed',\r\n  miniCardTitle: \"#ededed\",\r\n\r\n\r\n};\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n\r\nbody {\r\n  background-color: ${(props) => props.theme.body};\r\n  transition: 0.3s;\r\n;\r\n\r\n}\r\n\r\n#root {\r\nbackground-color: ${(props) => props.theme.root};\r\ntransition: 0.3s;\r\n}\r\n\r\n#nav {\r\nbackground-color: ${(props) => props.theme.nav};\r\ntransition: 0.3s;\r\n}\r\n\r\n#homer {\r\nbackground-color: ${(props) => props.theme.homer};\r\ntransition: 0.3s;\r\n}\r\n\r\n.right-container {\r\nbackground-color: ${(props) => props.theme.rightContainer};\r\ntransition: 0.3s;\r\n}\r\n\r\n.mini-card-title-flex {\r\n  text: ${(props) => props.theme.miniCardTitle};\r\n}\r\n\r\n#play-pause {\r\nbackground-color: ${(props) => props.theme.playPause};\r\ntransition: 0.3s;\r\n}\r\n\r\n.bm-menu {\r\n  transition: 0.3s;\r\n  z-index: 1;\r\nbackground: ${(props) => {\r\n  console.log(props)\r\n  return props.theme.bmMenu\r\n}};\r\n}\r\n\r\n.mini-card:hover {\r\n  background-color: ${(props) => props.theme.fontColor};\r\n}\r\n\r\n#dark-light {\r\n  background-color: ${(props) => props.theme.nav};\r\n  transition: 0.3s;\r\n  color: ${(props) => props.theme.darkLightFont};\r\n  text: ${(props) => props.theme.darkLightText};\r\n  transition: 0.3s;\r\n  }\r\n\r\n#discover-btn, #watch-party, #library, #chatroom, #invite, #preferences, #logout,.watch-header, .create-party, .discover, .watch-content, #preferences-btn {\r\n  transition: 0.3s;\r\n  box-shadow: ${(props) => props.theme.boxShadow};\r\n  color: ${(props) => props.theme.discoverBtn};\r\n  background-color: ${(props) => props.theme.navBtnBackground};\r\n  \r\n}\r\n\r\n.name-party-input, .join-party-input, .create-party-btn, .join-party-btn {\r\n  transition: 0.3s;\r\n  background-color: ${(props) => props.theme.navBtnBackground};\r\n  \r\n}\r\n\r\n.mini-card-title {\r\n  color: ${(props) => props.theme.discoverBtn};\r\n}\r\n\r\n .MuiToolbar-root, .MTableHeader-header-13, .MuiTableCell-head, .MuiTableFooter-root, .MTablePaginationInner-root-14   {\r\n  color: ${(props) => props.theme.fontColor} !important;\r\n  background-color: ${(props) => props.theme.MuiPaperRoot} !important;\r\n}\r\n\r\n\r\n.MuiSelect-root, .MuiSvgIcon-root, .MuiButtonBase-root, .MuiTable-root, .MuiInputBase-root, .MuiInputAdornment-root, .MuiIcon-root   {\r\n  color: ${(props) => props.theme.fontColor} !important;\r\n  background-color: ${(props) => props.theme.MuiPaperRoot} !important;\r\n}\r\n\r\n.shadowed {\r\n  text-shadow: ${(props) => props.theme.shadowColor} !important;\r\n}\r\n\r\n.mini-card {\r\n  box-shadow: ${(props) => `2px 2px ${props.theme.miniBox}`}\r\n}\r\n\r\n`\r\n\r\n\r\n\r\nexport default function Burger(props) {\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const showSettings = (event) => {\r\n    event.preventDefault()\r\n  }\r\n  const { token, setToken } = useToken();\r\n  const removeToken = () => {\r\n    localStorage.removeItem(\"token\");\r\n    setToken(null);\r\n    window.location.reload(true);\r\n  }\r\n\r\n  const openModal = () => {\r\n    setModalOpen(true);\r\n    setMenuOpen(false);\r\n  }\r\n  \r\n  const clearModal = () => {\r\n    setModalOpen(false);\r\n  }\r\n\r\n  return (\r\n\r\n    <Menu isOpen={menuOpen}>\r\n        <NavLink exact activeClassName=\"main-links\" to=\"/discover\" id='discover-btn'>discover</NavLink>\r\n        <NavLink exact activeClassName=\"main-links\" to=\"/watchparty\" id='watch-party'>watch party</NavLink>\r\n        <NavLink exact activeClassName=\"main-links\" to=\"/library\" id=\"library\">library</NavLink>\r\n        <NavLink exact activeClassName=\"main-links\" to='' onClick={openModal}  id=\"preferences-btn\">categories</NavLink>\r\n        <NavLink exact activeClassName=\"main-links\" to=\"/\" onClick={removeToken} id=\"logout\">log out</NavLink>\r\n        {/* <button id=\"dark-light\"onClick={() => props.themeToggler()}>Change Theme</button> */}\r\n        \r\n        <ReactModal isOpen={modalOpen}\r\n          className=\"preferences-modal\"\r\n          overlayClassName=\"preferences-modal-overlay\"\r\n          onRequestClose={clearModal}\r\n          closeTimeoutMS={200}\r\n          shouldCloseOnEsc={true}\r\n          shouldCloseOnOverlayClick={true}\r\n          >\r\n            <Preferences token={props.token} closeModal={clearModal} />\r\n          </ReactModal>\r\n\r\n        {/* <button id='watch-party' className='main-links' >Watch Party</button>\r\n        <button id='library' className='main-links' >Library</button>\r\n        <button id='chatroom' className='main-links' >Chat</button>\r\n        <button id='invite' className='invite-link' >Invite</button> */}\r\n    </Menu>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nfunction Invite() {\r\n\r\nreturn (\r\n    <>\r\n    <div>\r\n        <h1>Invite Page</h1>\r\n    </div>\r\n    </>\r\n)\r\n}\r\n\r\nexport default Invite;","import React from \"react\";\r\n/* PROPS\r\n    complementary\r\n    media { poster_path, backdrop, title, (((release data))), (((rating))), overview }\r\n    bgColor\r\n*/\r\nexport default function MiniCard(props) {\r\n  return (\r\n    <div className=\"mini-card\">\r\n        {/* <div className=\"content-gradient-overlay\" /> */}\r\n        <div className=\"mini-content-img\">\r\n            <img onClick={props.openModal} dataIndex={props.dataIndex} className=\"mini-cur-content-img\" src={props.poster} />\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport Invite from '../Invite/Invite';\r\nimport FastAverageColor from 'fast-average-color';\r\nimport Color from 'color';\r\nimport Card from '../Card/Card';\r\nimport MiniCard from '../Card/MiniCard';\r\nimport ReactModal from 'react-modal';\r\n\r\nfunction WatchPartyList(props) {\r\n\r\n    const parties = props.watchparties;\r\n    if (!parties) return '';\r\n\r\n    function getMembers(party) {\r\n        return party.members.map((member) => {\r\n            return <li key={member.user.id}>{member.user.email.split('@').shift()}</li>\r\n        })\r\n    }\r\n\r\n    const partyList = parties.map((party, idx) => {        \r\n        return (\r\n            <li key={party.id} className=\"watchparty-list-item\" style={{ color: 'white' }}  dataIdx={idx} >\r\n                <div className=\"party-name\">\r\n                <p className=\"party-name\"><p>name:</p> {party.name}</p>\r\n                </div>\r\n                <div className=\"party-members\">\r\n                <p>members:</p>\r\n                <ul>{getMembers(party)}</ul>\r\n                </div>\r\n                <div className=\"party-limit\">\r\n                <p className=\"party-name\"><p>limit:</p>{party.limit}</p>\r\n                </div>\r\n                <div className=\"party-url\">\r\n                <p className=\"party-url\" onClick={props.getMedia} url={party.url}> <p>URL:</p> {party.url}</p>\r\n                </div>\r\n            </li>\r\n        )\r\n    });\r\n    return <ul className=\"watchparty-list\">{partyList}</ul>\r\n}\r\n\r\nfunction MiniCards(props) {\r\n    const media = props.media;\r\n    console.log(media);\r\n    const miniCards = media.map((medium, idx) => {\r\n        const poster = `https://image.tmdb.org/t/p/w200${medium.poster_path}`;\r\n        const backdrop = `https://image.tmdb.org/t/p/original${medium.backdrop_path}`;\r\n        const title = medium.title;\r\n        const runtime = medium.runtime;\r\n        const overview = medium.overview;\r\n        const rating = medium.vote_average;\r\n        return <li key={medium.id}><MiniCard dataIndex={idx} openModal={props.openModal} poster={poster} backdrop={backdrop} title={title} runtime={runtime} overview={overview} rating={rating} /></li>\r\n    });\r\n    return <ul className=\"library-list\">{miniCards}</ul>\r\n}\r\n\r\nconst genreMap = {\r\n    \"28\": \"Action\",\r\n    \"12\": \"Adventure\",\r\n    \"16\": \"Animation\",\r\n    \"35\": \"Comedy\",\r\n    \"80\": \"Crime\",\r\n    \"18\": \"Drama\",\r\n    \"10751\": \"Family\",\r\n    \"14\": \"Fantasy\",\r\n    \"36\": \"History\",\r\n    \"27\": \"Horror\",\r\n    \"10402\": \"Music\",\r\n    \"9648\": \"Mystery\",\r\n    \"10749\": \"Romance\",\r\n    \"878\": \"Science Fiction\",\r\n    \"10770\": \"TV Movie\",\r\n    \"53\": \"Thriller\",\r\n    \"10752\": \"War\",\r\n    \"37\": \"Western\",\r\n  }\r\n\r\nfunction WatchParty(props) {\r\n    const [watchparties, setWatchparties] = useState([]);\r\n    const [media, setMedia] = useState([]);\r\n    const [images, setImages] = useState([]);\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [modalIdx, setModalIdx] = useState(0);\r\n    const [bgColor, setBgColor] = useState('#ededed');\r\n    const [complementary, setComplementary] = useState('#ededed');\r\n    const [inputVal, setInputVal] = useState('');\r\n    const [urlInput, setUrlInput] = useState('');\r\n    const inputField = useRef(null);\r\n    const urlField = useRef(null);\r\n\r\n    const fac = new FastAverageColor();\r\n\r\n    useEffect(() => {\r\n        fetch('http://localhost:3005/api/watchparty/party/all', {\r\n        method: 'GET',\r\n        headers: {\r\n            'Authorization': `Bearer: ${props.token}`\r\n        }\r\n      }).then(res => {\r\n          if (!res.ok) return;\r\n            res.json().then(results => {\r\n            console.log(results);\r\n            setWatchparties(results);\r\n        });\r\n      });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (images[modalIdx]) {\r\n          fac\r\n            .getColorAsync(images[modalIdx])\r\n            .then((color) => {\r\n              setBgColor(color.hex);\r\n              let myColor = Color(color.hex);\r\n              myColor = myColor.lighten(0.5);\r\n              myColor = myColor.saturate(1);\r\n              myColor = myColor.negate();\r\n              setComplementary(myColor.hex());\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n            });\r\n        }\r\n      });\r\n\r\n    const getMedia = (e) => {\r\n        const url = e.target.getAttribute('url');\r\n        console.log(url);\r\n        \r\n        fetch(`http://localhost:3005/api/watchparty/compare/${url}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': `Bearer: ${props.token}`\r\n            }\r\n        }).then(res => {\r\n            res.json().then(results => {\r\n                const mediaSet = new Set([...media.map(medium => medium.tmdb_id)]);\r\n                const mediaHolder = [...media];\r\n                const imageHolder = [...images];\r\n                results.forEach((result) => {\r\n                    if (mediaSet.has(result.id)) return;\r\n                    mediaHolder.push({\r\n                        tmdb_id: result.id,\r\n                        image: `https://image.tmdb.org/t/p/original${result.poster_path}`,\r\n                        backdrop: `https://image.tmdb.org/t/p/original${result.backdrop_path}`,\r\n                        title: result.title,\r\n                        release_date: result.release_date,\r\n                        overview: result.overview,\r\n                        rating: result.vote_average,\r\n                        genres: getGenres(result.genre_ids),\r\n                        poster_path: result.poster_path,\r\n                        backdrop_path: result.backdrop_path\r\n                    });\r\n                    imageHolder.push(\r\n                        `https://image.tmdb.org/t/p/original${result.poster_path}`\r\n                    );\r\n                });\r\n                setImages(imageHolder);\r\n                setMedia(mediaHolder);\r\n            });\r\n        });\r\n    }\r\n\r\n    const getGenres = (genre_ids) => {\r\n        if (!genre_ids) return;\r\n        return genre_ids.map(genre_id => genreMap[`${genre_id}`]);\r\n    }\r\n\r\n    const createParty = () => {\r\n        if (!inputVal.length || !inputField.current) return;\r\n        fetch('http://localhost:3005/api/watchparty/', {\r\n            method: 'POST', \r\n            mode: 'cors', \r\n            cache: 'no-cache',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer: ${props.token}`\r\n            },\r\n            body: JSON.stringify({name: inputVal})\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                res.json().then((watchpartyData => {\r\n                    console.log(watchparties);\r\n                    console.log(watchpartyData);\r\n                    setWatchparties([...watchparties, watchpartyData]);\r\n                })).catch(err => console.log(err));\r\n            }\r\n            setInputVal('');\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    const joinParty = () => {\r\n        if (!urlInput.length || !urlField.current) return;\r\n        fetch(`http://localhost:3005/api/watchparty/join/${urlInput}`, {\r\n            method: 'POST', \r\n            mode: 'cors', \r\n            cache: 'no-cache',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer: ${props.token}`\r\n            },\r\n            body: JSON.stringify({})\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                res.json().then((watchpartyData => {\r\n                    // console.log(watchparties);\r\n                    console.log('JOINED!');\r\n                    console.log(watchpartyData);\r\n                    // setWatchparties([...watchparties, watchpartyData]);\r\n                })).catch(err => console.log(err));\r\n            }\r\n            setInputVal('');\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    const openModal = (e) => {\r\n        const idx = e.target.getAttribute('dataIndex');\r\n        setModalIdx(idx);\r\n        setModalOpen(true);\r\n    }\r\n\r\n    const clearModal = () => {\r\n        setModalOpen(false);\r\n    }\r\n\r\n    // const [searchItem, setSearchItem] = useState('');\r\n    // const handleChange = event => {\r\n    //     setSearchItem(event.target.value);\r\n    // };\r\n    // // useEffect(() => {\r\n    // //     const searchResults = media.filter(media => media.includes(searchItem)\r\n    // //     );\r\n    // //     setSearchItem(searchResults);\r\n    // // }, [searchItem]);\r\n\r\n    return (\r\n        <div className=\"watch-party\">\r\n            <div className=\"watch-party-header\">\r\n                <h2>Watch Parties</h2>\r\n                <input ref={inputField} className=\"name-party-input\" type =\"text\" placeholder=\"name party...\" value={inputVal} onChange={(e) => setInputVal(e.target.value)}></input>\r\n                <button className=\"create-party-btn\" onClick={createParty}>create party</button>\r\n                <p className=\"or\">or</p>\r\n                <button className=\"join-party-btn\" onClick={joinParty}>join party</button>\r\n                <input ref={urlField} className=\"join-party-input\" type=\"text\" placeholder=\"...enter url\" value={urlInput} onChange={(e) => setUrlInput(e.target.value)} />\r\n            </div>\r\n            <div className=\"watch-party-list\">\r\n                <WatchPartyList watchparties={watchparties} getMedia={getMedia} />\r\n            </div>\r\n            <div className=\"library-grid\">\r\n                <MiniCards media={media} openModal={openModal} />\r\n            </div>\r\n            <ReactModal isOpen={modalOpen}\r\n                className=\"card-modal\"\r\n                overlayClassName=\"card-modal-overlay\"\r\n                onRequestClose={clearModal}\r\n                shouldCloseOnEsc={true}\r\n                shouldCloseOnOverlayClick={true}\r\n                style={{ overlay: { background: `radial-gradient(circle, ${bgColor} 33%, #000000 100%)` } }}\r\n                >\r\n                <Card idx={modalIdx} complementary={complementary} images={images} isFront={true} bgColor={bgColor} media={media} />\r\n            </ReactModal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WatchParty;\r\n","import React, { useEffect, useState } from 'react';\r\nimport MiniCard from '../Card/MiniCard';\r\nimport ReactModal from 'react-modal';\r\nimport Card from '../Card/Card';\r\nimport './Library.css';\r\nimport FastAverageColor from 'fast-average-color';\r\nimport Color from 'color';\r\n\r\nfunction MiniCards(props) {\r\n    const media = props.media;\r\n    const miniCards = media.map((medium, idx) => {\r\n        const poster = `https://image.tmdb.org/t/p/w300${medium.poster_path}`;\r\n        const backdrop = `https://image.tmdb.org/t/p/original${medium.backdrop_path}`;\r\n        const title = medium.title;\r\n        const runtime = medium.runtime;\r\n        const overview = medium.overview;\r\n        const rating = medium.vote_average;\r\n\r\n        return (\r\n\r\n            <li key={medium.id}><MiniCard dataIndex={idx} openModal={props.openModal} poster={poster} backdrop={backdrop} title={title} runtime={runtime} overview={overview} rating={rating} />\r\n\r\n            <div className=\"mini-card-title-flex\">\r\n            <p className=\"mini-card-title\">{title}</p>\r\n            </div>\r\n\r\n            </li>\r\n            )\r\n    });\r\n    return <ul className=\"library-list\">{miniCards}</ul>\r\n}\r\n\r\n\r\nconst genreMap = {\r\n    \"28\": \"Action\",\r\n    \"12\": \"Adventure\",\r\n    \"16\": \"Animation\",\r\n    \"35\": \"Comedy\",\r\n    \"80\": \"Crime\",\r\n    \"18\": \"Drama\",\r\n    \"10751\": \"Family\",\r\n    \"14\": \"Fantasy\",\r\n    \"36\": \"History\",\r\n    \"27\": \"Horror\",\r\n    \"10402\": \"Music\",\r\n    \"9648\": \"Mystery\",\r\n    \"10749\": \"Romance\",\r\n    \"878\": \"Science Fiction\",\r\n    \"10770\": \"TV Movie\",\r\n    \"53\": \"Thriller\",\r\n    \"10752\": \"War\",\r\n    \"37\": \"Western\",\r\n  }\r\n\r\n\r\nReactModal.setAppElement('#root');\r\n\r\nexport default function Library(props) {\r\n    const [media, setMedia] = useState([]);\r\n    const [images, setImages] = useState([]);\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [modalIdx, setModalIdx] = useState(0);\r\n    const [bgColor, setBgColor] = useState('#ededed');\r\n    const [complementary, setComplementary] = useState('#ededed');\r\n\r\n    const fac = new FastAverageColor();\r\n\r\n\r\n    useEffect(() => {\r\n        fetch('http://localhost:3005/api/likes/user/tmdb', {\r\n        method: 'GET',\r\n        headers: {\r\n            'Authorization': `Bearer: ${props.token}`\r\n        }\r\n      }).then(res => {\r\n        res.json().then(results => {\r\n            const mediaHolder = [...media];\r\n            const imageHolder = [...images];\r\n            results.forEach((result) => {\r\n            mediaHolder.push({\r\n                tmdb_id: result.id,\r\n                image: `https://image.tmdb.org/t/p/original${result.poster_path}`,\r\n                backdrop: `https://image.tmdb.org/t/p/original${result.backdrop_path}`,\r\n                title: result.title,\r\n                release_date: result.release_date,\r\n                overview: result.overview,\r\n                rating: result.vote_average,\r\n                genres: getGenres(result.genre_ids),\r\n                poster_path: result.poster_path,\r\n                backdrop_path: result.backdrop_path\r\n                // popularity\r\n            });\r\n            imageHolder.push(\r\n                `https://image.tmdb.org/t/p/original${result.poster_path}`\r\n                );\r\n            });\r\n            setImages(imageHolder);\r\n            setMedia(mediaHolder);\r\n        });\r\n      });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (images[modalIdx]) {\r\n          fac\r\n            .getColorAsync(images[modalIdx])\r\n            .then((color) => {\r\n              setBgColor(color.hex);\r\n              let myColor = Color(color.hex);\r\n              myColor = myColor.lighten(0.5);\r\n              myColor = myColor.saturate(1);\r\n              myColor = myColor.negate();\r\n              setComplementary(myColor.hex());\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n            });\r\n        }\r\n      });\r\n\r\n    const getGenres = (genre_ids) => {\r\n        if (!genre_ids) return;\r\n        return genre_ids.map(genre_id => genreMap[`${genre_id}`]);\r\n    }\r\n\r\n    const openModal = (e) => {\r\n        const idx = e.target.getAttribute('dataIndex');\r\n        setModalIdx(idx);\r\n        setModalOpen(true);\r\n    }\r\n\r\n    const clearModal = () => {\r\n        setModalOpen(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"library\" id=\"library-header\">\r\n            <h2>Library</h2>\r\n            <div className=\"library-grid\">\r\n                <MiniCards media={media} openModal={openModal} />\r\n            </div>\r\n            <ReactModal isOpen={modalOpen}\r\n                className=\"card-modal\"\r\n                overlayClassName=\"card-modal-overlay\"\r\n                onRequestClose={clearModal}\r\n                closeTimeoutMS={200}\r\n                shouldCloseOnEsc={true}\r\n                shouldCloseOnOverlayClick={true}\r\n                style={{ overlay: { background: `radial-gradient(circle, ${bgColor} 33%, rgba(0,0,0,0.5) 100%)` } }}\r\n                >\r\n                <Card idx={modalIdx} complementary={complementary} images={images} isFront={true} bgColor={bgColor} media={media} />\r\n            </ReactModal>\r\n        </div>\r\n    );\r\n}","import React from 'react'\r\n\r\nfunction Chatroom() {\r\n\r\nreturn (\r\n    <>\r\n    <div class=\"user-chat\">\r\n        <h1>chatting</h1>\r\n\r\n    </div>\r\n    </>\r\n)\r\n}\r\n\r\nexport default Chatroom;","import React from 'react';\r\nimport './home.css';\r\nimport Discover from '../Discover/Discover';\r\nimport Menu from '../Burger/Burger';\r\nimport { useState } from 'react'\r\nimport WatchParty from '../WatchParty/WatchParty';\r\nimport Library from '../Library/Library';\r\nimport Chatroom from '../Chatroom/Chatroom';\r\nimport Invite from '../Invite/Invite';\r\n\r\nexport const lightTheme = {\r\n  body: '#999',\r\n  fontColor: '#4444',\r\n  background: 'white',\r\n  root: 'white',\r\n  homer: 'white',\r\n  nav: '#FFFFF',\r\n  rightContainer: 'white',\r\n  playPause: '#FFFFF',\r\n  bmMenu: 'blue',\r\n\r\n}\r\n\r\nexport const darkTheme = {\r\n  body: '#555',\r\n  fontColor: \"#fff\",\r\n  background: \"#010101\",\r\n  root: '#010101',\r\n  homer: '#010101',\r\n  nav: '#080808',\r\n  rightContainer: '#010101',\r\n  playPause: 'blue',\r\n  bmMenu: 'yellow',\r\n\r\n};\r\n\r\nexport default function Home(props) {\r\n\r\n  const [theme, setTheme] = useState(\"light\");\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n\r\n  const themeToggler = () => {\r\n    theme === \"light\" ? setTheme(\"dark\") : setTheme(\"light\");\r\n  }\r\n\r\n  const [page, setPage] = useState('')\r\n\r\n  const renderPage = () => {\r\n    if(props.page !== \"discover\") {\r\n      props.setComplementary('#683fff80');\r\n    }\r\n    if(props.page===\"discover\") {\r\n      return <Discover token={props.token} complementary={props.complementary} setComplementary={props.setComplementary} />;\r\n    }\r\n    if(props.page===\"watchparty\") {\r\n      return <WatchParty token={props.token} />;\r\n    }\r\n    if(props.page===\"library\") {\r\n      return <Library token={props.token} />;\r\n    }\r\n    if(props.page===\"chatroom\") {\r\n      return <Chatroom token={props.token} />;\r\n    }\r\n    if(props.page===\"invite\") {\r\n      return <Invite token={props.token} />;\r\n    }\r\n  };\r\n\r\n  const closeMenu = () => {\r\n    setMenuOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"home\" id=\"homer\">\r\n      <Menu isOpen={menuOpen} closeMenu={closeMenu} themeToggler={themeToggler} token={props.token}/>\r\n      <div className=\"right-container\">\r\n        {renderPage()}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport LandingPage from \"./components/Landing/LandingPage\";\r\nimport useToken from \"./useToken\";\r\nimport Home from \"./components/Home/Home\";\r\nimport Liked from \"./components/Home/Liked\";\r\nimport Button from \"./components/Home/Button\";\r\nimport Discover from \"./components/Discover/Discover\";\r\nimport WatchParty from \"./components/WatchParty/WatchParty\";\r\nimport Library from \"./components/Library/Library\";\r\nimport Chatroom from \"./components/Chatroom/Chatroom\";\r\nimport Invite from \"./components/Invite/Invite\";\r\nimport PreferencesPage from \"./components/Preferences/PreferencesPage\"\r\nimport {\r\n  BrowserRouter as Router,\r\n  NavLink,\r\n  Route,\r\n  Routes,\r\n} from \"react-router-dom\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport {\r\n  lightTheme,\r\n  darkTheme,\r\n  GlobalStyles,\r\n} from \"./components/Burger/Burger\";\r\nimport styled, { css } from \"styled-components\";\r\n\r\n\r\n\r\nconst StyledApp = styled.div`\r\n  color: ${(props) => props.theme.background};\r\n`;\r\n\r\nconst UserContext = React.createContext(undefined);\r\n\r\n// async function login()\r\n\r\nfunction App() {\r\n  const [theme, setTheme] = useState(\"light\");\r\n\r\n  const themeToggler = () => {\r\n    theme === \"light\" ? setTheme(\"dark\") : setTheme(\"light\");\r\n  };\r\n\r\n  const { token, setToken } = useToken();\r\n  const [genres, setGenres] = useState('');\r\n  const [providers, setProviders] = useState('');\r\n  const [user, setUser] = useState({});\r\n  const [complementary, setComplementary] = useState('#ffffff');\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      fetch(\"http://localhost:3005/api/users\", {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Authorization': `Bearer: ${token}`\r\n        }\r\n      }).then(async res => {\r\n        if (res.ok) {\r\n          const data = await res.json();\r\n          // console.log(data);\r\n          delete data.password;\r\n          setUser(data);\r\n        }\r\n      }).catch(err => console.log(err));\r\n    }\r\n  }, [token]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      fetch('http://localhost:3005/api/users/verify', {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer: ${token}`,\r\n        },\r\n      })\r\n        .then(async (res) => {\r\n          if (!res.ok) {\r\n            localStorage.removeItem(\"token\");\r\n            setToken(null);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  });\r\n\r\n  if (!token) {\r\n    return (\r\n      <ThemeProvider theme={theme === \"light\" ? lightTheme : darkTheme}>\r\n        <div id=\"main\">\r\n          <NavBar showLogin={true} setToken={setToken} themeToggler={themeToggler} />\r\n          <LandingPage\r\n            token={token}\r\n            setToken={setToken}\r\n            genres={genres}\r\n            setGenres={setGenres}\r\n            providers={providers}\r\n            setProviders={setProviders}\r\n          />\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n  } else if (!user) {\r\n    // location.href = `${process.env.PUBLIC_URL}/discover`;\r\n    return (\r\n      <ThemeProvider theme={theme === \"light\" ? lightTheme : darkTheme}>\r\n        <NavBar showLogin={false} themeToggler={themeToggler} />\r\n        </ThemeProvider>\r\n    );\r\n  }\r\n\r\n  \r\n  return (\r\n    <UserContext.Provider value={user}>\r\n      <ThemeProvider theme={theme === \"light\" ? lightTheme : darkTheme}>\r\n\r\n        <StyledApp className=\"styleme\">\r\n        <GlobalStyles />\r\n\r\n        {/* <NavBar showLogin={false} themeToggler={themeToggler}/>\r\n        <Router>\r\n          <Routes> */}\r\n\r\n          <NavBar showLogin={false} complementary={complementary} setComplementary={setComplementary} themeToggler={themeToggler}  />\r\n          <Router>\r\n            <Routes>\r\n\r\n            <Route path=\"/\" element={<Home page=\"discover\" user={user} token={token}  complementary={complementary} setComplementary={setComplementary} />} />\r\n            <Route path=\"/discover\" element={<Home page=\"discover\" user={user}  token={token} complementary={complementary} setComplementary={setComplementary} />} />\r\n            <Route path=\"/watchparty\" element={<Home page=\"watchparty\" user={user}  token={token} setComplementary={setComplementary} />} />\r\n            <Route path=\"/library\" element={<Home page=\"library\" user={user}  token={token} setComplementary={setComplementary} />} />\r\n            <Route path=\"/chatroom\" element={<Home page=\"chatroom\" user={user}  token={token} setComplementary={setComplementary} />} />\r\n            <Route path=\"/invite\" element={<Home page=\"invite\" user={user} token={token} complementary={complementary} setComplementary={setComplementary} />} setComplementary={setComplementary} />\r\n            <Route path=\"/preferences\" element={<Home page=\"preferences\" user={user} token={token} complementary={complementary} setComplementary={setComplementary} />} setComplementary={setComplementary} />\r\n            {/* <Route path=\"/\" element={<Home page=\"logout\" user={user} token={token} />} setComplementary={setComplementary} /> */}\r\n            \r\n            </Routes>\r\n\r\n            </Router>\r\n          </StyledApp>\r\n        </ThemeProvider>\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\nexport { UserContext };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\nimport './reset.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}